<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Manga – Capítulo 1</title>

<style>
  body {
    margin: 0;
    background: #000;
    color: #fff;
    font-family: Arial, sans-serif;
  }

  /* Botón volver */
  .volver {
    position: fixed;
    top: 10px;
    left: 10px;
    background: rgba(0,0,0,0.6);
    padding: 8px 14px;
    border-radius: 6px;
    color: #fff;
    text-decoration: none;
    font-size: 15px;
    z-index: 10;
  }

  .carousel {
    position: relative;
    overflow: hidden;
    width: 100%;
    height: 100vh;
  }

  .slides {
    display: flex;
    transition: transform 0.4s ease-in-out; /* transición mejorada */
    height: 100%;
  }

  .slides img {
    width: 100vw;
    height: 100vh;
    object-fit: contain; /* nunca se deforma */
    background: linear-gradient(#111, #000);
    padding: 10px;
  }

  /* Botones */
  .btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    font-size: 45px;
    color: white;
    background: rgba(0,0,0,0.4);
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    user-select: none;
    border-radius: 10px;
    transition: background 0.2s;
    z-index: 5;
  }

  .btn:hover {
    background: rgba(0,0,0,0.7);
  }

  .prev { left: 10px; }
  .next { right: 10px; }

  /* Contador */
  .contador {
    position: fixed;
    bottom: 15px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.6);
    padding: 8px 15px;
    border-radius: 10px;
    font-size: 16px;
  }
</style>
</head>
<body>

<a href="/" class="volver">← Volver</a>

<div class="carousel">
  <button class="btn prev">⟨</button>
  <button class="btn next">⟩</button>

  <div class="slides">
    <img src="manga/capitulo1/p1.jpg" alt="Página 1">
    <img src="manga/capitulo1/p2.jpg" alt="Página 2">
    <img src="manga/capitulo1/p3.jpg" alt="Página 3">
    <img src="manga/capitulo1/p4.jpg" alt="Página 4">
    <img src="manga/capitulo1/p5.jpg" alt="Página 5">
  </div>
</div>

<div class="contador">Página 1 / 5</div>

<script>
let index = 0;
const slides = document.querySelector('.slides');
const total = document.querySelectorAll('.slides img').length;
const contador = document.querySelector('.contador');
let bloqueado = false;  // evita cambios demasiado rápidos

function actualizarContador() {
  contador.textContent = `Página ${index + 1} / ${total}`;
}

function showSlide(i) {
  if (bloqueado) return;
  bloqueado = true;

  index = (i + total) % total;
  slides.style.transform = `translateX(${-index * 100}vw)`;
  actualizarContador();

  setTimeout(() => bloqueado = false, 350);
}

document.querySelector('.next').onclick = () => showSlide(index + 1);
document.querySelector('.prev').onclick = () => showSlide(index - 1);

// Soporte touch (móvil)
let startX = 0;
slides.addEventListener('touchstart', e => startX = e.touches[0].clientX);
slides.addEventListener('touchend', e => {
  let endX = e.changedTouches[0].clientX;
  if (startX - endX > 50) showSlide(index + 1);
  if (endX - startX > 50) showSlide(index - 1);
});
</script>

</body>
</html>
